{% extends 'base.html' %}

    {% block content %}
    <div id="container">
        <!-- used for line 6 https://stackoverflow.com/questions/19614027/jinja2-template-variable-if-none-object-set-a-default-value -->
        {% if review is not none %}
        <h1>Edit your Movie Review</h1>
        <form method="post">
            <p>
                <label>Title: </label>
                <input type="text" name="title" value="{{ review.title }}"> 
            </p>
            <p>
                <label>Text: </label>
                <textarea name="texts">{{ review.text }}</textarea>
            </p>
            <p>
                <label>Rating: </label>
                <select name="rating">
                    {% if review.rating == 1 %}
                        <option value="1" selected>&#9733;</option>
                    {% else %}
                        <option value="1">&#9733;</option>
                    {% endif %}
                    {% if review.rating == 2 %}
                        <option value="2" selected>&#9733;&#9733;</option>
                    {% else %}
                        <option value="2">&#9733;&#9733;</option>
                    {% endif %}
                    {% if review.rating == 3 %}
                        <option value="3" selected>&#9733;&#9733;&#9733;</option>
                    {% else %}
                        <option value="3">&#9733;&#9733;&#9733;</option>
                    {% endif %}
                    {% if review.rating == 4 %}
                        <option value="4" selected>&#9733;&#9733;&#9733;&#9733;</option>
                    {% else %}
                        <option value="4">&#9733;&#9733;&#9733;&#9733;</option>
                    {% endif %}
                    {% if review.rating == 5 %}
                        <option value="5" selected>&#9733;&#9733;&#9733;&#9733;&#9733;</option>
                    {% else %}
                        <option value="5">&#9733;&#9733;&#9733;&#9733;&#9733;</option>
                    {% endif %}
                </select>
            </p>
            <p>
                <button type="submit">Submit Review</button>
            </p>
        </form>
        {% else %}
        <h1>Write a New Movie Review</h1>
        <form method="post">
            <p>
                <label>Title: </label>
                <input type="text", name="title"> 
            </p>
            <p>
                <label>Text: </label>
                <textarea name="texts"></textarea>
            </p>
            <p>
                <label>Rating: </label>
                <select name="rating">
                    <option value="1">&#9733;</option>
                    <option value="2">&#9733;&#9733;</option>
                    <option value="3">&#9733;&#9733;&#9733;</option>
                    <option value="4">&#9733;&#9733;&#9733;&#9733;</option>
                    <option value="5">&#9733;&#9733;&#9733;&#9733;&#9733;</option>
                </select>
            </p>
            <p>
                <button type="submit">Submit Review</button>
            </p>
        </form>
        {% endif %}
        <div>
            <a href="{{ url_for('show_all_reviews') }}">Back to All Reviews</a>
        </div>
    </div>
    {% endblock %}